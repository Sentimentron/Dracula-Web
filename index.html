<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Dracula.js</title>

  <script src="numeric-1.2.6.js"></script>
  <script src="dracula.params.js"></script>
  <script src="dracula.tokenize.js"></script>
  <script src="dracula.embeddings.js"></script>
  <script src="dracula.lstm.js"></script>
</head>
<body>

  <script>
  function visualize() {
    // Grab the content
    var contentElement = document.getElementById("text-input");
    var content = contentElement.value;
    // Tokenize
    var tokens = draculaTokenize(content);
    // Create embeddings
    var embeddings = [];
    for (var i = 0; i < tokens.length; i++) {
      var token = tokens[i];
      var tokenEmbeddings = draculaGetEmbeddings(token);
      embeddings.push(tokenEmbeddings);
    }
    // First-level LSTMs
    var lstmOutput = [];
    for (var i = 0; i < embeddings.length; i++) {
      var cur = embeddings[i];
      var out1 = draculaBLSTM(cur, 'lstm_chars_1');
      var out2 = draculaBLSTM(out1, 'lstm_chars_2');
      var out3 = draculaBLSTM(out2, 'lstm_chars_3');
      lstmOutput.push(out3);
    }
    // Mean-pooling
    // Word-level LSTMs
    // Output
  }
  </script>

  <center>
    <form onsubmit="return visualize();">
      <textarea id="text-input" rows="4" cols="50">Really simple song, but very effective. I was
      hooked! @KIIARA â™« http://spoti.fi/1MzG50Z</textarea>
      <input type="submit" />
    </form>
  </center>

</body>
</html>
